#!/usr/bin/env bash
# bin/compile <build-dir> <cache-dir> <env-dir>
set -euo pipefail

function topic() {
  echo "-----> $*"
}

URL="https://fonts.google.com/download?family=Inter"

# parse and derive params
BUILD_DIR=$1
CACHE_DIR=$2
# BUILDPACK_DIR=$(dirname "$(dirname "$0")")

ZIP="font.zip"

mkdir -p "$CACHE_DIR"

topic "Fetching fonts"
cd "$CACHE_DIR"
curl -L --silent "$URL" 2> $ZIP | tar x -z

topic "Copying fonts to app folder"
mkdir "$BUILD_DIR"/.fonts
cp "$CACHE_DIR"/fonts/* "$BUILD_DIR"/.fonts/
